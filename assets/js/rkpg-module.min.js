jQuery(document).ready(function () { var a; $(".add").click(function () { a = "add", $("#form")[0].reset(), $("#modal").modal("show"), $(".form-group").removeClass("has-error"), $(".help-block").empty() }), $(".update-akun").click(function () { a = "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(), $(".modal-title").text("Edit Akun"); var t = $(this).attr("data-id"); $.ajax({ url: dns + "rkpg/pengaturan/akun/detail/" + t, type: "GET", dataType: "JSON", success: function (a) { $('[name="akun_id"]').val(a.id), $('[name="kode"]').val(a.kode), $('[name="parent"]').val(a.parent), $('[name="nama"]').val(a.nama), "1" == a.status ? $("#ystatus").prop("checked", !0) : "2" == a.status && $("#tstatus").prop("checked", !0), $("#modal").modal("show") }, error: function (a, t, e) { console.log("Server Disconnect") } }) }), $(".delete-akun").click(function () { $.ajax({ url: dns + "rkpg/pengaturan/akun/delete/" + $(this).attr("data-id"), type: "GET", dataType: "JSON", success: function (a) { toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { toastr.warning("Maaf, terjadi kesalahan.") } }) }), $(".submit-akun").click(function () { var t; $(".submit-akun").text("saving..."), $(".submit-akun").attr("disabled", !0), t = "update" == a ? dns + "rkpg/pengaturan/akun/update" : dns + "rkpg/pengaturan/akun/create", $.ajax({ url: t, type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function (a) { a.status && $("#modal").modal("hide"), $(".submit-akun").text("Simpan"), $(".submit-akun").attr("disabled", !1), toastr.info("Baik, data berhasil diproses."), $("#modal").modal("hide"), location.reload() }, error: function (a, t, e) { $(".submit-akun").text("save"), $(".submit-akun").attr("disabled", !1), toastr.info("Maaf, terjadi kesalahan pada saat proses berlangsung.") } }) }), $(".delete-anggaran").click(function () { $.ajax({ url: dns + "rkpg/anggaran/delete/" + $(this).attr("data-id"), type: "GET", dataType: "JSON", success: function (a) { toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { toastr.warning("Maaf, terjadi kesalahan.") } }) }), $(".submit-anggaran").click(function () { $(".submit-anggaran").text("saving..."), $(".submit-anggaran").attr("disabled", !0), $.ajax({ url: dns + "rkpg/anggaran/create", type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function (a) { a.status && $("#modal").modal("hide"), $("#modal").modal("hide"), $(".submit-anggaran").text("Simpan"), $(".submit-anggaran").attr("disabled", !1), toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { $(".submit-anggaran").text("save"), $(".submit-anggaran").attr("disabled", !1), toastr.warning("Maaf, terjadi kesalahan pada saat proses berlangsung."), location.reload() } }) }), $(".add_akun").click(function () { a = "add", $("#form")[0].reset(), $(".modal-title").text("Tambah Akun"), $(".form-group").removeClass("has-error"), $(".help-block").empty(), $('[name="akun"]').val($(this).attr("data-id")) }), $(".update-proyeksi-akun").click(function () { a = "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var t = $(this).attr("data-id"); $(".modal-title").text("Edit Akun"), $.ajax({ url: dns + "rkpg/proyeksi/detail/" + t, type: "GET", dataType: "JSON", success: function (a) { $('[name="akun_id"]').val(a.id), $('[name="kode"]').val(a.kode), $('[name="parent"]').val(a.parent), $('[name="nama"]').val(a.nama), $(".delete-proyeksi-akun").attr("data-id", a.id), $("#modal").modal("show") }, error: function (a, t, e) { console.log("Server Disconnected") } }) }), $(".delete-proyeksi-akun").click(function () { $.ajax({ url: dns + "rkpg/pengaturan/akun/delete/" + $(this).attr("data-id"), type: "GET", dataType: "JSON", success: function (a) { toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { toastr.warning("Maaf, terjadi kesalahan.") } }) }), $(".submit-proyeksi-akun").click(function () { var t; $(".submit-proyeksi-akun").text("saving..."), $(".submit-proyeksi-akun").attr("disabled", !0), t = "update" == a ? dns + "rkpg/proyeksi/akun_update" : dns + "rkpg/proyeksi/akun_create", $.ajax({ url: t, type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function (a) { a.status && $("#modal-akun").modal("hide"), $("#modal-akun").modal("hide"), $(".submit-proyeksi-akun").text("Simpan"), $(".submit-proyeksi-akun").attr("disabled", !1), toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { $(".submit-proyeksi-akun").text("save"), $(".submit-proyeksi-akun").attr("disabled", !1), toastr.warning("Maaf, terjadi kesalahan pada saat proses berlangsung.") } }) }), $(".update-proyeksi-anggaran").click(function () { a = "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var t = $(this).attr("data-id"); $(".modal-title").text("Edit Anggaran"), $.ajax({ url: dns + "rkpg/proyeksi/detail/" + t, type: "GET", dataType: "JSON", success: function (a) { $('[name="akun"]').val(a.id), $('[name="nominal"]').val(parseInt(a.nominal)), $("#modal-pro-ang").modal("show") }, error: function (a, t, e) { toastr.warning("Maaf, terjadi kesalahan pada saat proses berlangsung.") } }) }), $(".submit-proyeksi-anggaran").click(function () { $(".submit-proyeksi-anggaran").text("saving..."), $(".submit-proyeksi-anggaran").attr("disabled", !0), $.ajax({ url: dns + "rkpg/proyeksi/anggaran_update", type: "POST", data: $("#form-anggaran").serialize(), dataType: "JSON", success: function (a) { a.status && $("#modal-pro-ang").modal("hide"), $("#modal-pro-ang").modal("hide"), $(".submit-proyeksi-anggaran").text("Simpan"), $(".submit-proyeksi-anggaran").attr("disabled", !1), toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { $(".submit-proyeksi-anggaran").text("save"), $(".submit-proyeksi-anggaran").attr("disabled", !1), toastr.warning("Maaf, terjadi kesalahan pada saat proses berlangsung.") } }) }), $(".add-w-id").click(function () { a = "add", $("#form-item")[0].reset(), $(".modal-title").text("Tambah Anggaran"), $(".form-group").removeClass("has-error"), $(".help-block").empty(), $('[name="akun"]').val($(this).attr("data-id")) }), $(".update-item").click(function () { a = "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var t = $(this).attr("data-id"); $(".modal-title").text("Edit Item"), $.ajax({ url: dns + "rkpg/proyeksi/detail_item/" + t, type: "GET", dataType: "JSON", success: function (a) { $('[name="id"]').val(a.item_id), $('[name="akun"]').val(a.akun), $('[name="volume"]').val(a.volume), $('[name="satuan"]').val(a.satuan), $('[name="harga"]').val(a.harga), $('[name="sumber"]').val(a.sumber), $(".delete-item").attr("data-id", a.item_id), $("#modal").modal("show") }, error: function (a, t, e) { console.log("Server Disconnected") } }) }), $(".delete-item").click(function () { $.ajax({ url: dns + "rkpg/proyeksi/delete_item/" + $(this).attr("data-id"), type: "GET", dataType: "JSON", success: function (a) { $("#modal").modal("hide"), toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { toastr.warning("Maaf, terjadi kesalahan.") } }) }), $(".submit-item").click(function () { var t; $(".submit-item").text("saving..."), $(".submit-item").attr("disabled", !0), t = "update" == a ? dns + "rkpg/proyeksi/item_update" : dns + "rkpg/proyeksi/item_create", $.ajax({ url: t, type: "POST", data: $("#form-item").serialize(), dataType: "JSON", success: function (a) { a.status && $("#modal-item").modal("hide"), $("#modal-item").modal("hide"), $(".submit-item").text("Simpan"), $(".submit-item").attr("disabled", !1), toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { $(".submit-item").text("save"), $(".submit-item").attr("disabled", !1), toastr.warning("Maaf, terjadi kesalahan pada saat proses berlangsung.") } }) }), $(".add-konsol").click(function () { a = "add", $("#form-konsolidasi")[0].reset(), $(".modal-title").text("Tambah Konsolidasi"), $(".form-group").removeClass("has-error"), $(".help-block").empty(), $('[name="akun"]').val($(this).attr("data-id")) }), $(".submit-konsolidasi").click(function () { var t; $(".submit-konsolidasi").text("saving..."), $(".submit-konsolidasi").attr("disabled", !0), t = "update" == a ? dns + "rkpg/konsolidasi/update" : dns + "rkpg/konsolidasi/create", $.ajax({ url: t, type: "POST", data: $("#form-konsolidasi").serialize(), dataType: "JSON", success: function (a) { a.status && $("#modal-konsolidasi").modal("hide"), $("#modal-konsolidasi").modal("hide"), $(".submit-konsolidasi").text("Simpan"), $(".submit-konsolidasi").attr("disabled", !1), toastr.info("Baik, data berhasil diproses."), location.reload() }, error: function (a, t, e) { $(".submit-konsolidasi").text("save"), $(".submit-konsolidasi").attr("disabled", !1), toastr.warning("Maaf, terjadi kesalahan pada saat proses berlangsung.") } }) }) }), console.log('STOP!. Ini adalah fitur browser yang ditujukan untuk pengembang. Jika seseorang meminta Anda untuk menyalin sesuatu di sini atau "meretas" silahkan hindari, ini adalah penipuan dan akan memberikannya akses ke akun SIMGAM.');
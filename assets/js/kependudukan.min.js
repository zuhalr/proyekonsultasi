function toastr_show(a, e) { toastr[a](e), toastr.options = { closeButton: !1, debug: !1, newestOnTop: !1, progressBar: !1, positionClass: "toast-top-right", preventDuplicates: !1, onclick: null, showDuration: "300", hideDuration: "1000", timeOut: "8000", extendedTimeOut: "1000", showEasing: "swing", hideEasing: "linear", showMethod: "fadeIn", hideMethod: "fadeOut" } } !function () { function a(a) { document.write('<script src="' + dns + a + version + '" type="text/javascript"><\/script>') } a("assets/js/jquery.min.js"), a("assets/js/bootstrap.min.js"), a("assets/js/frameworks.ui.monev.min.js"), a("assets/js/toast.js"), a("assets/js/sweetalert.js"), a("assets/js/select2.full.min.js"), a("assets/js/components-select2.min.js"), a("assets/js/validator.min.js") }(), jQuery.noConflict(), jQuery(document).ready(function () { $("#form").validator(); var a = "application/x-www-form-urlencoded; charset=utf-8"; window.XDomainRequest && (a = "text/plain"), $(".add").click(function () { "add", $("#form")[0].reset(), $(".select2").val("").trigger("change"), $(".form-group").removeClass("has-error"), $(".help-block").empty() }), $(".edit").click(function () { "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var a = $(this).attr("data-uuid"); $.ajax({ type: "GET", crossOrigin: !0, dataType: "JSON", jsonp: "callback", url: dns + "penduduk/personal/pendidikan/detail/" + a, contentType: "application/json; charset=UTF-8", success: function (a) { $('[name="uuid"]').val(a.uuid_data_pendidikan), $('[name="nama_institusi"]').val(a.nama_institusi), $('[name="thn_masuk"]').val(a.thn_masuk), $('[name="thn_keluar"]').val(a.thn_keluar), $('[name="sumber_biaya"]').val(a.sumber_biaya), "1" == a.current_study ? $('[name="current_study"]').prop("checked", !0) : $('[name="current_study"]').prop("checked", !1), $("#modal").modal("show") } }) }), $(".delete").click(function () { var a = $(this).data("uuid"); swal({ title: "yakin hapus data?", text: "Anda telah menghapus data tidak dapat dikembalikan!", type: "warning", showCancelButton: !0, confirmButtonClass: "btn-danger", confirmButtonText: "Yes, delete it!", closeOnConfirm: !1 }, function () { $.ajax({ type: "GET", dataType: "JSON", url: dns + "penduduk/personal/pendidikan/delete/" + a, success: function () { location.reload() } }), swal("Deleted!", "Data telah dihapus.", "success"), toastr_show("success", "Data berhasil dihapus") }) }), $(".spddk").click(function () { $(".spddk").text("saving..."), $(".spddk").attr("disabled", !0), $.ajax({ url: dns + "penduduk/personal/pendidikan", type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function () { $(".spddk").text("Simpan"), $(".spddk").attr("disabled", !1), $(".modal").modal("hide"), toastr_show("success", "Data berhasil diproses"), setTimeout(function () { location.reload() }, 500) } }) }), $(".editpkj").click(function () { "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var e = $(this).attr("data-uuid"); $.ajax({ type: "GET", crossOrigin: !0, dataType: "JSON", contentType: a, url: dns + "penduduk/personal/pekerjaan/detail/" + e, success: function (a) { $('[name="uuid"]').val(a.uuid_data_kerja), $('[name="kd_kerja"]').val(a.kd_kerja).trigger("change"), $('[name="pekerjaan"]').val(a.pekerjaan), $('[name="institusi"]').val(a.institusi), $('[name="lokasi"]').val(a.lokasi); var e = "0" == a.mulai_kerja.substr(5, 2).charAt(0) ? a.mulai_kerja.substr(5, 2).split("0") : a.mulai_kerja.substr(5, 2), t = a.mulai_kerja.substr(0, 4), s = "0" == a.selesai_kerja.substr(5, 2).charAt(0) ? a.selesai_kerja.substr(5, 2).split("0") : a.selesai_kerja.substr(5, 2), n = a.selesai_kerja.substr(0, 4); $('[name="bln_start"]').val(e).trigger("change"), $('[name="thn_start"]').val(t).trigger("change"), $('[name="bln_finish"]').val(s).trigger("change"), $('[name="thn_finish"]').val(n).trigger("change"), "1" == a.current_work ? ($('[name="current_work"]').prop("checked", !0), $(".selesai").show()) : ($('[name="current_work"]').prop("checked", !1), $(".selesai").hide()), $('[name="deskripsi"]').val(a.deskripsi), $('[name="media"]').val(a.media), $("#modal").modal("show") } }) }), $(".deletepkj").click(function () { var a = $(this).data("uuid"); swal({ title: "Yakin hapus data pekerjaan?", text: "Data tidak dikembalikan lagi setelah dihapus!", type: "warning", showCancelButton: !0, confirmButtonClass: "btn-danger", confirmButtonText: "Yes, delete it!", closeOnConfirm: !1 }, function () { $.ajax({ type: "GET", dataType: "JSON", url: dns + "penduduk/personal/pekerjaan/delete/" + a, success: function () { location.reload() } }), swal("Terhapus!", "Data telah dihapus.", "success"), toastr_show("success", "Data berhasil dihapus") }) }), $(".spkj").validator().on("submit", function () { $(".spkj").text("saving..."), $(".spkj").attr("disabled", !0), $.ajax({ url: dns + "penduduk/personal/pekerjaan", type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function () { $(".spkj").text("Simpan"), $(".spkj").attr("disabled", !1), $(".modal").modal("hide"), toastr_show("success", "Data berhasil diproses"), setTimeout(function () { location.reload() }, 500) } }) }), $(".editplth").click(function () { "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var e = $(this).attr("data-uuid"); $.ajax({ url: dns + "penduduk/personal/pelatihan/detail/" + e, type: "GET", crossOrigin: !0, dataType: "JSON", contentType: a, success: function (a) { $('[name="uuid"]').val(a.uuid_data_pelatihan), $('[name="kd_pelatihan"]').val(a.kd_pelatihan).trigger("change"), $('[name="deskripsi"]').val(a.deskripsi), $('[name="nomor_sertifikat"]').val(a.nomor_sertifikat), $('[name="tanggal"]').val(a.tgl_sertifikat.substr(8, 2)).trigger("change"), $('[name="bulan"]').val(a.tgl_sertifikat.substr(5, 2)).trigger("change"), $('[name="tahun"]').val(a.tgl_sertifikat.substr(0, 4)).trigger("change"), $('[name="jam_pelatihan"]').val(a.jam_pelatihan), $("#country").append($("<option value=" + a.region_id + " selected>" + a.country + "</option>")), $("#provinsi").append($("<option value=" + a.id + " selected>" + a.name + "</option>")), $("#modal").modal("show") } }) }), $("#country").change(function () { $.ajax({ type: "POST", url: dns + "penduduk/personal/pelatihan/provinsi", data: { country: $("#country").val() }, dataType: "json", beforeSend: function (a) { a && a.overrideMimeType && a.overrideMimeType("application/json;charset=UTF-8") }, success: function (a) { $("#provinsi").html(a.provinsi).show() }, error: function (a, e, t) { console.log(a.status + "\n" + a.responseText + "\n" + t) } }) }), $(".deleteplth").click(function () { var a = $(this).data("uuid"); swal({ title: "Yakin hapus data?", text: "Anda telah menghapus data tidak dapat dikembalikan!", type: "warning", showCancelButton: !0, confirmButtonClass: "btn-danger", confirmButtonText: "Yes, delete it!", closeOnConfirm: !1 }, function () { $.ajax({ type: "GET", dataType: "JSON", url: dns + "penduduk/personal/pelatihan/delete/" + a, success: function () { location.reload() } }), swal("Deleted!", "Data telah dihapus.", "success"), toastr_show("success", "Data berhasil dihapus") }) }), $(".splth").validator().click(function () { $(".splth").text("saving..."), $(".splth").attr("disabled", !0), $.ajax({ url: dns + "penduduk/personal/pelatihan", type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function () { $(".splth").text("Simpan"), $(".splth").attr("disabled", !1), $(".modal").modal("hide"), toastr_show("success", "Data berhasil diproses"), setTimeout(function () { location.reload() }, 500) } }) }), $(".editphrg").click(function () { "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var a = $(this).attr("data-uuid"); $.ajax({ url: dns + "penduduk/personal/penghargaan/detail/" + a, type: "GET", dataType: "JSON", success: function (a) { $('[name="uuid"]').val(a.uuid_data_penghargaan), $('[name="kd_penghargaan"]').val(a.kd_penghargaan), $('[name="deskripsi"]').val(a.deskripsi), $('[name="nomor_sk"]').val(a.nomor_sk), $('[name="tgl_sk"]').val(a.tgl_sk), $("#modal").modal("show") } }) }), $(".deletephrg").click(function () { var a = $(this).data("uuid"); swal({ title: "Yakin hapus data?", text: "Anda telah menghapus data tidak dapat dikembalikan!!", type: "warning", showCancelButton: !0, confirmButtonClass: "btn-danger", confirmButtonText: "Yes, delete it!", closeOnConfirm: !1 }, function () { $.ajax({ type: "GET", dataType: "JSON", url: dns + "penduduk/personal/penghargaan/delete/" + a, success: function () { location.reload() } }), swal("Terhapus!", "Data telah dihapus.", "success"), toastr_show("success", "Data berhasil dihapus") }) }), $(".sphrg").click(function () { $(".sphrg").text("saving..."), $(".sphrg").attr("disabled", !0), $.ajax({ url: dns + "penduduk/personal/penghargaan", type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function () { $(".sphrg").text("Simpan"), $(".sphrg").attr("disabled", !1), $(".modal").modal("hide"), toastr_show("success", "Data berhasil diproses"), setTimeout(function () { location.reload() }, 500) } }) }), $(".editorg").click(function () { "update", $(".form-group").removeClass("has-error"), $(".help-block").empty(); var a = $(this).attr("data-uuid"); $.ajax({ url: dns + "penduduk/personal/organisasi/detail/" + a, type: "GET", dataType: "JSON", success: function (a) { $('[name="uuid"]').val(a.uuid_data_organisasi), $('[name="uraian"]').val(a.uraian), $('[name="lokasi"]').val(a.lokasi), $('[name="mulai"]').val(a.mulai), $('[name="sampai"]').val(a.sampai), $("#modal").modal("show") } }) }), $(".deleteorg").click(function () { var a = $(this).data("uuid"); swal({ title: "Yakin hapus data?", text: "Anda telah menghapus data tidak dapat dikembalikan!!", type: "warning", showCancelButton: !0, confirmButtonClass: "btn-danger", confirmButtonText: "Yes, delete it!", closeOnConfirm: !1 }, function () { $.ajax({ type: "GET", dataType: "JSON", url: dns + "penduduk/personal/organisasi/delete/" + a, success: function () { location.reload() } }), swal("Terhapus!", "Data telah dihapus.", "success"), toastr_show("success", "Data berhasil dihapus") }) }), $(".sorg").click(function () { $(".sorg").text("saving..."), $(".sorg").attr("disabled", !0), $.ajax({ url: dns + "penduduk/personal/organisasi", type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function () { $(".sorg").text("Simpan"), $(".sorg").attr("disabled", !1), $(".modal").modal("hide"), toastr_show("success", "Data berhasil diproses"), setTimeout(function () { location.reload() }, 500) } }) }), $(".saddkk").click(function () { $(".saddkk").text("saving..."), $(".saddkk").attr("disabled", !0), $.ajax({ url: dns + "penduduk/keluarga/create", type: "POST", data: $("#form").serialize(), dataType: "JSON", success: function (a) { console.log(a), $(".saddkk").text("Simpan"), $(".saddkk").attr("disabled", !1), $(".modal").modal("hide"), toastr_show("success", "Data berhasil diproses"), setTimeout(function () { location.reload() }, 500) }, error: function () { alert("Check your connection") } }) }), $("#status_kk").change(function () { if (this.checked) { var a = (new Date, Math.floor(99999999 * Math.random() + 97272300)); $("#no_kk").val(a), $("#no_kk").attr("readonly", !0) } else $("#no_kk").val("").focus(), $("#no_kk").attr("readonly", !1), $("#no_kk").attr("disabled", !1) }), setTimeout(function () { $(".alert").hide() }, 3e3), $(".nik").on("keypress keyup blur", function (a) { $(this).val($(this).val().replace(/[^\d].+/, "")), (a.which < 48 || a.which > 57) && a.preventDefault() }), $(".form-edit, .btn-submit").hide(), $(".btn-edit").on("click", function () { $(".view-data, .form-edit").toggle(), "Ubah" === $.trim($(this).text()) ? ($(this).text("Batal"), $("#form-edit").hide(), $(".btn-submit").show()) : ($(this).text("Ubah"), $("#form-edit").show(), $(".btn-submit").hide()) }), $("#current_work").change(function () { this.checked ? $(".selesai").fadeIn("fast") : $(".selesai").fadeOut("fast") }) });